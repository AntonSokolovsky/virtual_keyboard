(()=>{"use strict";const e=document.querySelector("body"),s=document.createElement("div");e.append(s),s.classList.add("container");const t=document.createElement("textarea");s.append(t),t.classList.add("input"),t.setAttribute("row","5"),t.setAttribute("cols","50");const a=document.createElement("div");s.append(a),a.classList.add("keyboard");const r=[["Esc","`","1","2","3","4","5","6","7","8","9","0","-","=","&#10229"],["Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Del"],["Caps","a","s","d","f","g","h","j","k","l",";","'","Enter"],["Shift","z","x","c","v","b","n","m",",",".","/","&#9650","Shift"],["Fn","Ctrl","Win","Alt"," ","Alt","Ctrl","&#9664","&#9660","&#9654","&#9776"]],n=[["Esc","~","!","@","#","$","%","^","&","*","(",")","_","+","&#10229"],["Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|","Del"],["Caps","A","S","D","F","G","H","J","K","L",":",'"',"Enter"],["Shift","Z","X","C","V","B","N","M","<",">","?","&#9650","Shift"],["Fn","Ctrl","Win","Alt"," ","Alt","Ctrl","&#9664","&#9660","&#9654","&#9776"]];function c(e){console.log(e.preventDefault());let s=e.currentTarget.querySelector(".backspace"),a=e.currentTarget.querySelector(".tab"),c=e.currentTarget.querySelector(".caps"),d=e.key,o=e.currentTarget.querySelector(".space"),L=e.currentTarget.querySelector(".arrow-up"),p=e.currentTarget.querySelector(".arrow-down"),u=e.currentTarget.querySelector(".arrow-left"),w=e.currentTarget.querySelector(".arrow-right"),T=(e.currentTarget.querySelectorAll(".arrow"),e.currentTarget.querySelectorAll(".shift")),f=e.currentTarget.querySelectorAll(".key"),y=e.currentTarget.querySelectorAll(".withTwoValue"),v=[];y.forEach((e=>v.push(e.innerHTML))),e.target.classList.contains("shift")&&"q"===f[16].innerHTML&&!f[30].classList.contains("pressed")?i(f,T):"Q"!==f[16].innerHTML&&!e.target.classList.contains("shift")||e.target.classList.contains("caps")||f[30].classList.contains("pressed")||e.repeat?e.target.classList.contains("caps")&&!e.target.classList.contains("pressed")?(T.forEach((e=>e.classList.remove("pressed"))),function(e,s){e.forEach(((e,s)=>{e.innerHTML=n.flat()[s]})),s.classList.add("pressed")}(f,c)):e.target.classList.contains("caps")&&e.target.classList.contains("pressed")?function(e,s){e.forEach(((e,s)=>{e.innerHTML=r.flat()[s]})),s.classList.remove("pressed")}(f,c):"Shift"!==d||"q"!==f[16].innerHTML||f[30].classList.contains("pressed")||e.repeat?"Shift"===d&&"keyup"===e.type?l(f,T):e.target.classList.contains("withTwoValue")||e.target.classList.contains("space")?t.value=t.value+e.target.innerHTML:e.target.classList.contains("tab")?t.value=t.value+o.innerHTML.repeat(3):e.target.classList.contains("backspace")||"Backspace"===d&&"keydown"===e.type?(t.value=t.value.slice(0,-1),s.classList.add("pressed")):"Backspace"===d&&"keyup"===e.type?s.classList.remove("pressed"):v.includes(d)&&"keydown"===e.type?(t.value=t.value+d,function(e,s,t){t.map(((t,a)=>{t===s&&e[a].classList.add("pressed")}))}(y,d,v)):v.includes(d)&&"keyup"===e.type?function(e,s,t){t.map(((t,a)=>{t===s&&e[a].classList.remove("pressed")}))}(y,d,v):e.target.classList.contains("arrow")?t.value=t.value+e.target.innerHTML:"ArrowUp"!==d&&"ArrowDown"!==d&&"ArrowLeft"!==d&&"ArrowRight"!==d||"keydown"!==e.type?"ArrowUp"!==d&&"ArrowDown"!==d&&"ArrowLeft"!==d&&"ArrowRight"!==d||"keyup"!==e.type?"Space"===e.code&&"keydown"===e.type?(t.value=t.value+" ",o.classList.add("pressed")):"Space"===e.code&&"keyup"===e.type?o.classList.remove("pressed"):"Tab"!==d||"keydown"!==e.type||e.repeat?"Tab"===d&&"keyup"===e.type&&a.classList.remove("pressed"):(t.value=t.value+o.innerHTML.repeat(3),a.classList.add("pressed"),e.repeat="false"):"ArrowUp"===d?L.classList.remove("pressed"):"ArrowDown"===d?p.classList.remove("pressed"):"ArrowLeft"===d?u.classList.remove("pressed"):"ArrowRight"===d&&w.classList.remove("pressed"):"ArrowUp"===d?(t.value=t.value+"▲",L.classList.add("pressed")):"ArrowDown"===d?(t.value=t.value+"▼",p.classList.add("pressed")):"ArrowLeft"===d?(t.value=t.value+"◀",u.classList.add("pressed")):"ArrowRight"===d&&(t.value=t.value+"▶",w.classList.add("pressed")):(i(f,T),e.repeat="false"):l(f,T)}function i(e,s){e.forEach(((e,s)=>{e.innerHTML=n.flat()[s]})),s.forEach((e=>e.classList.add("pressed")))}function l(e,s){e.forEach(((e,s)=>{e.innerHTML=r.flat()[s]})),s.forEach((e=>e.classList.remove("pressed")))}!function(e){e.forEach(((e,s)=>function(e,s){const t=document.createElement("div");a.append(t),t.classList.add("row"),t.classList.add(`row-${s}`),e.forEach((e=>{const s=document.createElement("div");t.append(s),s.classList.add("key"),s.innerHTML=`${e}`,function(e){"⟵"===e.innerHTML?e.classList.add("backspace"):"Esc"===e.innerHTML?e.classList.add("esc"):"Tab"===e.innerHTML?e.classList.add("tab"):"Del"===e.innerHTML?e.classList.add("del"):"Caps"===e.innerHTML?e.classList.add("caps"):"Enter"===e.innerHTML?e.classList.add("enter"):"Shift"===e.innerHTML?e.classList.add("shift"):"Fn"===e.innerHTML?e.classList.add("fn"):"Ctrl"===e.innerHTML?e.classList.add("ctrl"):"Win"===e.innerHTML?e.classList.add("win"):"Alt"===e.innerHTML?e.classList.add("alt"):"&#9776"===e.innerHTML?e.classList.add("menu"):"▲"===e.innerHTML?(e.classList.add("arrow-up"),e.classList.add("arrow"),e.classList.add("withTwoValue")):"◀"===e.innerHTML?(e.classList.add("arrow-left"),e.classList.add("arrow"),e.classList.add("withTwoValue")):"▼"===e.innerHTML?(e.classList.add("arrow-down"),e.classList.add("arrow"),e.classList.add("withTwoValue")):"▶"===e.innerHTML?(e.classList.add("arrow-right"),e.classList.add("arrow"),e.classList.add("withTwoValue")):" "===e.innerHTML?e.classList.add("space"):e.classList.add("withTwoValue")}(s)}))}(e,s)))}(r),a.addEventListener("click",c),document.addEventListener("keydown",c),document.addEventListener("keyup",c)})();